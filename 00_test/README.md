# Ansible Vaultλ¥Ό μ΄μ©ν• λΉ„λ°€ λ°μ΄ν„° κ΄€λ¦¬ π”
## π“– ν”„λ΅μ νΈ κ°μ”
μ΄ ν”„λ΅μ νΈλ” Ansible Vaultλ¥Ό μ‚¬μ©ν•μ—¬ λ―Όκ°ν• λ°μ΄ν„°(μ: λΉ„λ°€λ²νΈ, API ν‚¤)λ¥Ό μ•”νΈν™”ν•κ³  κ΄€λ¦¬ν•λ” λ°©λ²•μ„ λ‹¤λ£Ήλ‹λ‹¤. secret νμΌμ— μ €μ¥λ μ•”νΈν™”λ λ³€μλ“¤μ„ vault-pass νμΌμ— μλ” λΉ„λ°€λ²νΈλ΅ λ³µνΈν™”ν•μ—¬ ν”λ μ΄λ¶μ—μ„ μ•μ „ν•κ² μ‚¬μ©ν•λ” κ³Όμ •μ„ λ³΄μ—¬μ¤λ‹λ‹¤.

## π€ μ£Όμ” ν•™μµ λ‚΄μ©
+ Ansible Vault: λ―Όκ°ν• λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•μ—¬ ν”λ μ΄λ¶μ— ν¬ν•¨μ‹ν‚¤λ” λ³΄μ• κΈ°λ¥μ„ ν•™μµν•©λ‹λ‹¤.

+ λΉ„λ°€λ²νΈ νμΌ: vault-pass νμΌμ— λΉ„λ°€λ²νΈλ¥Ό μ €μ¥ν•μ—¬, ν”λ μ΄λ¶ μ‹¤ν–‰ μ‹ λΉ„λ°€λ²νΈλ¥Ό μλ™μΌλ΅ μ…λ ¥ν•  ν•„μ” μ—†μ΄ μλ™μΌλ΅ μΈμ¦ν•λ” λ°©λ²•μ„ μµν™λ‹λ‹¤.

+ μ•”νΈν™”λ λ³€μ μ‚¬μ©: μ•”νΈν™”λ .yml νμΌμ— μ •μλ λ³€μλ“¤μ„ ν”λ μ΄λ¶μ—μ„ λ¶λ¬μ™€ μ‚¬μ©ν•λ” λ°©λ²•μ„ μ‹¤μµν•©λ‹λ‹¤.

## π“‚ ν”„λ΅μ νΈ νμΌ κµ¬μ΅°
```bash
.
β”β”€β”€ vault-pass
β”β”€β”€ secret1.yml
β”β”€β”€ secret2.yml
β””β”€β”€ secret3.yml
```
+ vault-pass: ansible-vaultλ¥Ό μ‚¬μ©ν•  λ• ν•„μ”ν• λΉ„λ°€λ²νΈλ¥Ό μ €μ¥ν•λ” νμΌμ…λ‹λ‹¤.

+ secret1.yml~secret3.yml: Ansible Vaultλ΅ μ•”νΈν™”λ YAML νμΌλ“¤λ΅, λ―Όκ°ν• λ³€μλ“¤μ„ ν¬ν•¨ν•κ³  μμµλ‹λ‹¤.

## π› οΈ μ‹¤ν–‰ λ°©λ²•
μ•”νΈν™”λ νμΌ λ³΄κΈ°:
+ ansible-vault view secret1.yml λ…λ Ήκ³Ό vault-pass νμΌμ„ μ‚¬μ©ν•μ—¬ μ•”νΈν™”λ λ‚΄μ©μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

Bash

```bash
ansible-vault view secret1.yml --vault-password-file vault-pass
```
ν”λ μ΄λ¶ μ‹¤ν–‰:
ansible-playbook λ…λ Ήμ— --vault-password-file μµμ…μ„ μ¶”κ°€ν•μ—¬, μ•”νΈν™”λ νμΌμ— μ ‘κ·Όν•λ” ν”λ μ΄λ¶μ„ μ‹¤ν–‰ν•©λ‹λ‹¤.

### ν”λ μ΄λ¶ μμ‹ (secret1.ymlμ„ μ‚¬μ©ν•λ” ν”λ μ΄λ¶)
Bash
```bash
ansible-playbook your-playbook.yml --vault-password-file vault-pass
```
